cmake_minimum_required(VERSION 2.8)
project(sf-game)
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/Modules/")
# Find packages:
find_package(SFMLwindow REQUIRED)
find_package(SFMLgraphics REQUIRED)
find_package(SFMLsystem REQUIRED)
find_package(LIBAVCODEC REQUIRED)
find_package(LIBAVFORMAT REQUIRED)
find_package(LIBAVUTIL REQUIRED)
find_package(LIBSWSCALE REQUIRED)
# Add include directories:
include_directories(${SFMLwindow_INCLUDE_DIR})
include_directories(${SFMLgraphics_INCLUDE_DIR})
include_directories(${SFMLsystem_INCLUDE_DIR})
include_directories(${LIBAVCODEC_INCLUDE_DIR})
include_directories(${LIBAVFORMAT_INCLUDE_DIR})
include_directories(${LIBSWSCALE_INCLUDE_DIR})
# Add source files to game executable:
set(GAME_SOURCES src/main.cpp)
set(GAME_SOURCES ${GAME_SOURCES} src/game.cpp)
set(GAME_SOURCES ${GAME_SOURCES} src/padding_data_calculator.cpp)
set(GAME_SOURCES ${GAME_SOURCES} src/cursor.cpp)
set(GAME_SOURCES ${GAME_SOURCES} src/video_sequence.cpp)
IF (UNIX)
	set(GAME_SOURCES ${GAME_SOURCES} src/config_unix.cpp)
ELSEIF (WIN32)
	set(GAME_SOURCES ${GAME_SOURCES} src/config_windows.cpp)
ELSE (UNIX)
	message(FATAL_ERROR "Unsupported system")
ENDIF (UNIX)
add_executable(game ${GAME_SOURCES})
# Add libraries to game executable:
target_link_libraries(game ${SFMLwindow_LIBRARIES})
target_link_libraries(game ${SFMLgraphics_LIBRARIES})
target_link_libraries(game ${SFMLsystem_LIBRARIES})
target_link_libraries(game ${LIBAVCODEC_LIBRARIES})
target_link_libraries(game ${LIBAVFORMAT_LIBRARIES})
target_link_libraries(game ${LIBSWSCALE_LIBRARIES})
